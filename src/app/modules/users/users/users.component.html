<div class="w-full m-0 p-0">
  <div class="w-full border-round flex align-items-center p-2">
    <div class="flex align-items-center">
      <p-button
        icon="pi pi-align-justify"
        class="mr-2"
        [raised]="true"
        [outlined]="true"
        (onClick)="themeServ.setNavBar()"
      />
      <i class="pi pi pi-users mr-2"></i>
      <p class="m-0 text-lg font-semibold" style="color: var(--surface-500)">
        Users
      </p>
    </div>
    <p-button
      class="ml-auto"
      icon="pi pi-plus"
      iconPos="left"
      label="User"
      (onClick)="showAddUserDialog()"
    />
  </div>
  <div
    class="border-round p-2 mt-1 w-full"
    style="
      margin-left: 1px;
      height: 32rem;
      background-color: var(--surface-100);
    "
  >
    <div class="p-2 m-2">
      <ag-grid-angular
        [rowData]="rowData"
        [gridOptions]="gridOptions"
        [suppressMenuHide]="true"
        (gridReady)="onGridready($event)"
        class="ag-theme-alpine-dark h-25rem shadow-1 border-round"
      >
      </ag-grid-angular>
    </div>
  </div>
</div>

<p-dialog
  header="Header"
  [(visible)]="addUserView"
  [modal]="true"
  [style]="{ width: '30rem' }"
>
  <ng-template pTemplate="header">
    <div class="inline-flex align-items-center justify-content-center gap-2">
      <i class="pi pi-user-plus mr-2" style="font-size: 2rem"></i>
      <span class="font-bold white-space-nowrap"> Add User </span>
    </div>
  </ng-template>
  <form [formGroup]="userForm">
    <div class="flex align-items-center gap-3 mb-3">
      <label for="first_name" class="font-semibold w-9rem">
        First Name <span style="color: red">*</span>
      </label>
      <input
        pInputText
        id="first_name"
        class="flex-auto"
        autocomplete="off"
        formControlName="first_name"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-3">
      <label for="second_name" class="font-semibold w-9rem">
        Second Name
      </label>
      <input
        pInputText
        id="second_name"
        class="flex-auto"
        autocomplete="off"
        formControlName="second_name"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
      <label for="email" class="font-semibold w-9rem"
        >Email<span style="color: red; margin-left: 5px">*</span></label
      >
      <input
        pInputText
        id="email"
        class="flex-auto"
        autocomplete="off"
        formControlName="email"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
      <label for="role" class="font-semibold w-9rem"
        >Role<span style="color: red; margin-left: 5px">*</span></label
      >
      <p-treeSelect
        id="role"
        [options]="userRoles"
        containerStyleClass="w-full"
        placeholder="Select Role"
        formControlName="role"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
      <label for="rule" class="font-semibold w-9rem"
        >Rule<span style="color: red; margin-left: 5px">*</span></label
      >
      <p-treeSelect
        id="rule"
        [options]="rules"
        containerStyleClass="w-full"
        placeholder="Select Rule"
        formControlName="rule"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
      <label for="password" class="font-semibold w-9rem"
        >Password<span style="color: red; margin-left: 5px">*</span></label
      >
      <input
        pInputText
        id="password"
        class="flex-auto"
        autocomplete="off"
        formControlName="password"
      />
    </div>
  </form>
  <ng-template pTemplate="footer">
    <p-button
      label="Cancel"
      [text]="true"
      severity="secondary"
      (onClick)="cancelAddUser()"
    />
    <p-button
      label="Add"
      [outlined]="true"
      severity="primary"
      (onClick)="addUser()"
    />
  </ng-template>
</p-dialog>
